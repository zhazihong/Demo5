<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>有效的括号</title>
    <script type="text/javascript">
        window.onload = function () {
            /**
             * 给定一个只包括 '('，')'，'{'，'}'，'['，']' 的字符串 s ，判断字符串是否有效。

             有效字符串需满足：

             左括号必须用相同类型的右括号闭合。
             左括号必须以正确的顺序闭合。
              
             示例 1：
             输入：s = "()"
             输出：true

             示例 2：
             输入：s = "()[]{}"
             输出：true

             示例 3：
             输入：s = "(]"
             输出：false

             提示：
             1 <= s.length <= 104
             s 仅由括号 '()[]{}' 组成
             *
             */

            let s = '()()';
            // 1.直接使用string的方法 运行时间:292 ms 消耗内存:43 MB
            // console.log(isValid(s));
            // 2.使用辅助栈法实现     运行时间:80 ms 消耗内存:39.6 MB
            console.log(isValidByStack(s));
        }

        function isValidByStack(s) {
            if (s.length % 2) {
                return false;
            }
            let stack = [];
            for (let code of s) {
                if(stack.length) {
                    let lastCode = stack[stack.length - 1];
                    if (lastCode == '(' && code == ')' || lastCode == '[' && code == ']' || lastCode == '{' && code == '}') {
                        stack.pop();
                    } else {
                        stack.push(code);
                    }
                } else {
                    stack.push(code);
                }
            }
            return !stack.length;
        }

        function isValid(s) {
            while (s.includes('()') || s.includes('[]') || s.includes('{}')){
                console.log('s1:', s);
                s = s.replace('()', '').replace('[]', '').replace('{}', '');
                console.log('s2:', s);
            }
            return !s;
        }
    </script>
</head>
<body>

</body>
</html>
